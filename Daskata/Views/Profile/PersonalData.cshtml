@model Daskata.Core.ViewModels.EditUserFormModel

@{
    ViewData["Title"] = "Редакция на профил";
}

<div class="home-container-column">
    <div class="row">
        <div class="col-md-4 text-md-center mt-4">
            <label for="profilePicture" style="cursor: pointer;">
                <img id="profileImage" src="@Model.ProfilePictureUrl" class="profile-pic-edit" alt="Снимка на профила" />
                <input type="file" id="profilePicture" style="display: none;" accept="image/*" />
            </label>
            <div class="mt-4">
                <a class="nav-link profile-menu links-profile-menu" asp-area="" asp-controller="Profile" asp-action="Edit">Редакция на профил</a>
                <a class="nav-link profile-menu links-profile-menu" asp-area="" asp-controller="Profile" asp-action="ChangePassword">Промени парола</a>
            </div>
        </div>
        <div class="col-md-8">
            <span class="row g-3">
                This is the view for now! This is the view for now! This is the view for now! This is the view for now! This is the view for now! This is the view for now!
            </span>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        document.getElementById('profilePicture').addEventListener('change', function () {
            var file = this.files[0];
            if (file) {
                var reader = new FileReader();
                reader.onload = function () {
                    document.getElementById('profileImage').src = reader.result;
                }
                reader.readAsDataURL(file);
            }
        });
    </script>

    <script>
        function showNotification() {
            var notification = document.getElementById("userEditedNotification");
            notification.classList.add("show");

            setTimeout(function () {
                notification.classList.remove("show");
            }, 1000);
        }

        var form = document.getElementById("editForm");

        form.addEventListener("submit", function (event) {
            event.preventDefault();

            showNotification();

            setTimeout(function () {
                form.submit();
            }, 1000);
        });
    </script>
}
